(()=>{var e={439:e=>{"use strict";e.exports={ZE:{start:65281,end:65374},HE:{start:33,end:126},HG:{start:12353,end:12438},KK:{start:12449,end:12534},HS:{regexp:/(\s|\u00A0)/g,list:[" "," "]},ZS:{regexp:/(\u3000)/g,list:["　","　"]},HK:{regexp:/([\uff66-\uff9c]\uff9e)|([\uff8a-\uff8e]\uff9f)|([\uff61-\uff9f])/g,list:["｡","｢","｣","､","･","ｦ","ｧ","ｨ","ｩ","ｪ","ｫ","ｬ","ｭ","ｮ","ｯ","ｰ","ｱ","ｲ","ｳ","ｴ","ｵ","ｶ","ｷ","ｸ","ｹ","ｺ","ｻ","ｼ","ｽ","ｾ","ｿ","ﾀ","ﾁ","ﾂ","ﾃ","ﾄ","ﾅ","ﾆ","ﾇ","ﾈ","ﾉ","ﾊ","ﾋ","ﾌ","ﾍ","ﾎ","ﾏ","ﾐ","ﾑ","ﾒ","ﾓ","ﾔ","ﾕ","ﾖ","ﾗ","ﾘ","ﾙ","ﾚ","ﾛ","ﾜ","ﾝ","ﾞ","ﾟ","ｦﾞ","ｳﾞ","ｶﾞ","ｷﾞ","ｸﾞ","ｹﾞ","ｺﾞ","ｻﾞ","ｼﾞ","ｽﾞ","ｾﾞ","ｿﾞ","ﾀﾞ","ﾁﾞ","ﾂﾞ","ﾃﾞ","ﾄﾞ","ﾊﾞ","ﾊﾟ","ﾋﾞ","ﾋﾟ","ﾌﾞ","ﾌﾟ","ﾍﾞ","ﾍﾟ","ﾎﾞ","ﾎﾟ","ﾜﾞ"]},ZK:{regexp:/([\u3001-\u30fc])/g,list:["。","「","」","、","・","ヲ","ァ","ィ","ゥ","ェ","ォ","ャ","ュ","ョ","ッ","ー","ア","イ","ウ","エ","オ","カ","キ","ク","ケ","コ","サ","シ","ス","セ","ソ","タ","チ","ツ","テ","ト","ナ","ニ","ヌ","ネ","ノ","ハ","ヒ","フ","ヘ","ホ","マ","ミ","ム","メ","モ","ヤ","ユ","ヨ","ラ","リ","ル","レ","ロ","ワ","ン","゛","゜","ヺ","ヴ","ガ","ギ","グ","ゲ","ゴ","ザ","ジ","ズ","ゼ","ゾ","ダ","ヂ","ヅ","デ","ド","バ","パ","ビ","ピ","ブ","プ","ベ","ペ","ボ","ポ","ヷ"]}}},547:e=>{"use strict";function t(e,t){this.origin=t,this._result=this.origin,this._mojisyu=e}t.prototype.toString=function(){return this._result},t.prototype.convert=function(e,t){var n=this._mojisyu[e],r=this._mojisyu[t];return"range"===this._mojisyuType(n)&&"range"===this._mojisyuType(r)?(this._result=this._rangeConvert(n,r),this):"regexp"===this._mojisyuType(n)&&"regexp"===this._mojisyuType(r)?(this._result=this._regexpConvert(n,r),this):void 0},t.prototype._rangeConvert=function(e,t){var n=t.start-e.start;return this._rangeMap(e,(function(e,t,r){return t?String.fromCharCode(r+n):e})).join("")},t.prototype._regexpConvert=function(e,t){return this._regexpMap(e,(function(e,n,r){return n?t.list[r]:e}))},t.prototype.filter=function(e){var t=this._mojisyu[e];return"range"===this._mojisyuType(t)?(this._result=this._rangeFilter(t),this):"regexp"===this._mojisyuType(t)?(this._result=this._regexpFilter(t),this):void 0},t.prototype._rangeFilter=function(e){return this._rangeMap(e,(function(e,t){return t?e:""})).join("")},t.prototype._regexpFilter=function(e){var t=[];return this._regexpMap(e,(function(e,n){n&&t.push(e)})),t.join("")},t.prototype.reject=function(e){var t=this._mojisyu[e];return"range"===this._mojisyuType(t)?(this._result=this._rangeReject(t),this):"regexp"===this._mojisyuType(t)?(this._result=this._regexpReject(t),this):void 0},t.prototype._rangeReject=function(e){return this._rangeMap(e,(function(e,t){return t?"":e})).join("")},t.prototype._regexpReject=function(e){var t=this._regexpFilter(e);return this._result.replace(t,"")},t.prototype._mojisyuType=function(e){return e.start&&e.end?"range":e.regexp&&e.list?"regexp":""},t.prototype._rangeMap=function(e,t){return this._result.split("").map((function(n){var r=n.charCodeAt(0),o=r>=e.start&&r<=e.end;return t.call(this,n,o,r)}))},t.prototype._regexpMap=function(e,t){return this._result.replace(e.regexp,(function(n){var r=e.list.indexOf(n),o=r>=0;return t.call(this,n,o,r)}))},e.exports=t},624:(e,t,n)=>{"use strict";var r=n(547),o=n(229),i=n(439),a=n(228),u=a({},i);o.call(r.prototype);var c=function(e){return new r(u,e)};c.addMojisyu=function(e){u=a(u,e)},e.exports=c},229:e=>{e.exports=function(){return this.trim=function(){return this._result=this._result.trim(),this},this.match=function(e){var t=this._result.match(e);return t&&e?(this._result=t.toString(),this):this},this.replace=function(e,t){return this._result=this._result.replace(e,t),this},this}},228:e=>{"use strict";var t=Object.prototype.propertyIsEnumerable;function n(e){var n=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e))),n.filter((function(n){return t.call(e,n)}))}e.exports=Object.assign||function(e,t){for(var r,o,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){r=arguments[a],o=n(Object(r));for(var u=0;u<o.length;u++)i[o[u]]=r[o[u]]}return i}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(624),t=n.n(e),r="unmatch",o="incomplete",i="complete",a="partially_complete";function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var l=function(){return e=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.nextChar=null,this.expectRomanArray=n,this.nextExpectRomanIndex=0,this.divisionCharChain=null;var o=r[t];Array.isArray(o)&&this.expectRomanArray.sort((function(e,t){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(o);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=e.startsWith(i),u=t.startsWith(i);if(a&&!u)return-1;if(!a&&u)return 1}}catch(e){r.e(e)}finally{r.f()}return 0})),this.name.length>1&&(this.divisionCharChain=function(e,t){for(var n=null,r=null,o=0;o<e.length;o++){var i=J(e[o],t);0===o&&(n=i),null!==r&&(r.nextChar=i),r=i}return n}(this.name,r))},t=[{key:"ignoreCapsLock",get:function(){return!0}},{key:"expectRoman",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.expectRomanArray.length>0?""===e?this.expectRomanArray[0]:this.expectRomanArray.filter((function(t){return t[0]===e}))[0]:""}},{key:"inputRoman",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!this.ignoreCapsLock?e.toLowerCase():e,n=this.inputThisCharRoman(t);return n===r&&null!==this.divisionCharChain?this.inputDivisionCharRoman(t):n}},{key:"inputThisCharRoman",value:function(e){var t=this,n=this.expectRomanArray.filter((function(n){return e===n[t.nextExpectRomanIndex]}));return 0===n.length?r:(this.expectRomanArray=n,this.nextExpectRomanIndex+=1,this.nextExpectRomanIndex<this.expectRomanArray[0].length?o:i)}},{key:"inputDivisionCharRoman",value:function(e){for(var t=this.divisionCharChain,n=0;n<this.nextExpectRomanIndex;n++)if(t.inputRoman(this.expectRomanArray[0][n])===r)return t.nextExpectRomanIndex=0,r;var i=t.inputRoman(e);if(i===r)return t.nextExpectRomanIndex=0,r;for(var a=t.nextChar;;){if(null===a.nextChar){a.nextChar=this.nextChar;break}a=a.nextChar}return i===o?t:t.nextChar}}],t&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function y(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}function w(e,t,n){return t=v(t),function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var d=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,t,[e,n,r])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,(r=[{key:"ignoreCapsLock",get:function(){return!1}}])&&p(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(l);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function j(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(t)?t:t+""}function O(e,t,n){return t=R(t),function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_()?Reflect.construct(t,n||[],R(e).constructor):t.apply(e,n))}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},C.apply(this,arguments)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function S(e,t){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},S(e,t)}function P(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function E(e,t){return e.get(k(e,t))}function k(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var T=new WeakMap,A=new WeakSet,I=function(e){function t(e,n,r){var o,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(i=o=O(this,t,[e,n,r]),a=A),a.add(i),function(e,t,n){P(e,t),t.set(e,"")}(o,T),o.regex=/^(?=[a-z])(?!(a|i|u|e|o|n)).$/,o.isSpecial=!1,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(t,e),n=t,o=[{key:"expectRoman",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.isSpecial=!1,null===this.nextChar||"っ"===this.nextChar.name)return C(R(t.prototype),"expectRoman",this).call(this);if(/^[a-zA-Z]$/.test(this.nextChar.name))return C(R(t.prototype),"expectRoman",this).call(this);var n="";if("x"===e||"l"===e){var r=this.nextChar.expectRomanArray.filter((function(t){return t[0]===e}));n=r.length>0?r[0][0]:k(A,this,M).call(this)}else n=k(A,this,M).call(this);return"x"===e&&"x"===n||"l"===e&&"l"===n?(this.isSpecial=!0,n):this.nextExpectRomanIndex>0?this.expectRomanArray[0]:""!==n?(this.isSpecial=!0,n):C(R(t.prototype),"expectRoman",this).call(this)}},{key:"inputRoman",value:function(e){var n,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!this.ignoreCapsLock?e.toLowerCase():e,u=C(R(t.prototype),"inputRoman",this).call(this,i),c=u===r&&("x"===i||"l"===i);return!c&&this.nextExpectRomanIndex>0?(this,o=i,(n=T).set(k(n,this),o),u):null==this.nextChar||"っ"===this.nextChar.name?r:this.regex.test(i)?/^[a-zA-Z]$/.test(this.nextChar.name)||this.nextChar.inputRoman(i)===r?r:(c||(this.nextChar.nextExpectRomanIndex=0),null!==this.nextChar.divisionCharChain&&(this.nextChar.divisionCharChain.inputRoman(i),this.nextChar.divisionCharChain.nextExpectRomanIndex=0),"x"!==E(T,this)&&"l"!==E(T,this)||i===E(T,this)?a:r):r}}],o&&x(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(d);function M(){var e=this,t=this.nextChar.expectRomanArray.filter((function(t){return e.regex.test(t[0])}));return t.length>0?t[0][0]:""}function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function W(e){var t=function(e,t){if("object"!=z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(t)?t:t+""}function B(e,t,n){return t=$(t),function(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,K()?Reflect.construct(t,n||[],$(e).constructor):t.apply(e,n))}function K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(K=function(){return!!e})()}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(this,arguments)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function L(e,t){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},L(e,t)}var F=function(e){function t(e,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,t,[e,n,r])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(t,e),n=t,a=[{key:"expectRoman",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(null===this.nextChar)return D($(t.prototype),"expectRoman",this).call(this,e);if(!(this.nextChar instanceof d))return D($(t.prototype),"expectRoman",this).call(this,e);var n=this.nextChar.expectRoman()[0];return/^(n|'|a|i|u|e|o|y| )$/.test(n)?D($(t.prototype),"expectRoman",this).call(this,e):this.nextExpectRomanIndex>1||1===this.nextExpectRomanIndex&&"x"===this.expectRomanArray[0][0]?this.expectRomanArray[0]:"n"}},{key:"inputRoman",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!this.ignoreCapsLock?e.toLowerCase():e,a=D($(t.prototype),"inputRoman",this).call(this,n);if(a!==r||0===this.nextExpectRomanIndex||null===this.nextChar)return a;if(!(this.nextChar instanceof d))return r;if(/^(a|i|u|e|o|y| )$/.test(this.nextChar.expectRoman()[0]))return r;switch(this.nextChar.inputRoman(n)){case r:return r;case o:return this.nextChar;case i:return null===this.nextChar.nextChar?i:this.nextChar.nextChar}}}],a&&q(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a}(d);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function Z(e){var t="function"==typeof Map?new Map:void 0;return Z=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(G())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&N(o,n.prototype),o}(e,arguments,U(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),N(n,e)},Z(e)}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}var V=function(e){function t(){var e,n,r,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Charの生成に失敗しました";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=this,r=t,o=[i],r=U(r),e=function(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(n,G()?Reflect.construct(r,o||[],U(n).constructor):r.apply(n,o))).name="CharCreationError",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(Z(Error));function J(e,t){switch(e){case"あ":return new d(e,["a"],t);case"い":return new d(e,["i","yi"],t);case"う":return new d(e,["u","wu","whu"],t);case"え":return new d(e,["e"],t);case"お":return new d(e,["o"],t);case"いぇ":return new d(e,["ye"],t);case"うぁ":return new d(e,["wha"],t);case"うぃ":return new d(e,["wi","whi"],t);case"うぇ":return new d(e,["we","whe"],t);case"うぉ":return new d(e,["who"],t);case"ゐ":return new d(e,["wi"],t);case"ゑ":return new d(e,["we"],t);case"ぁ":return new d(e,["xa","la"],t);case"ぃ":return new d(e,["xi","li","xyi","lyi"],t);case"ぅ":return new d(e,["xu","lu"],t);case"ぇ":return new d(e,["xe","le","xye","lye"],t);case"ぉ":return new d(e,["xo","lo"],t);case"か":return new d(e,["ka","ca"],t);case"き":return new d(e,["ki"],t);case"く":return new d(e,["ku","cu","qu"],t);case"け":return new d(e,["ke"],t);case"こ":return new d(e,["ko","co"],t);case"きゃ":return new d(e,["kya"],t);case"きぃ":return new d(e,["kyi"],t);case"きゅ":return new d(e,["kyu"],t);case"きぇ":return new d(e,["kye"],t);case"きょ":return new d(e,["kyo"],t);case"くゃ":return new d(e,["qya"],t);case"くゅ":return new d(e,["qyu"],t);case"くょ":return new d(e,["qyo"],t);case"くぁ":return new d(e,["qa","qwa","kwa"],t);case"くぃ":return new d(e,["qi","qwi","qyi"],t);case"くぅ":return new d(e,["qwu"],t);case"くぇ":return new d(e,["qe","qwe","qye"],t);case"くぉ":return new d(e,["qo","qwo"],t);case"が":return new d(e,["ga"],t);case"ぎ":return new d(e,["gi"],t);case"ぐ":return new d(e,["gu"],t);case"げ":return new d(e,["ge"],t);case"ご":return new d(e,["go"],t);case"ぎゃ":return new d(e,["gya"],t);case"ぎぃ":return new d(e,["gyi"],t);case"ぎゅ":return new d(e,["gyu"],t);case"ぎぇ":return new d(e,["gye"],t);case"ぎょ":return new d(e,["gyo"],t);case"ぐぁ":return new d(e,["gwa"],t);case"ぐぃ":return new d(e,["gwi"],t);case"ぐぅ":return new d(e,["gwu"],t);case"ぐぇ":return new d(e,["gwe"],t);case"ぐぉ":return new d(e,["gwo"],t);case"ゕ":return new d(e,["xka","lka"],t);case"ゖ":return new d(e,["xke","lke"],t);case"さ":return new d(e,["sa"],t);case"し":return new d(e,["si","ci","shi"],t);case"す":return new d(e,["su"],t);case"せ":return new d(e,["se","ce"],t);case"そ":return new d(e,["so"],t);case"しゃ":return new d(e,["sya","sha"],t);case"しぃ":return new d(e,["syi"],t);case"しゅ":return new d(e,["syu","shu"],t);case"しぇ":return new d(e,["sye","she"],t);case"しょ":return new d(e,["syo","sho"],t);case"すぁ":return new d(e,["swa"],t);case"すぃ":return new d(e,["swi"],t);case"すぅ":return new d(e,["swu"],t);case"すぇ":return new d(e,["swe"],t);case"すぉ":return new d(e,["swo"],t);case"ざ":return new d(e,["za"],t);case"じ":return new d(e,["zi","ji"],t);case"ず":return new d(e,["zu"],t);case"ぜ":return new d(e,["ze"],t);case"ぞ":return new d(e,["zo"],t);case"じゃ":return new d(e,["zya","ja","jya"],t);case"じぃ":return new d(e,["zyi","jyi"],t);case"じゅ":return new d(e,["zyu","ju","jyu"],t);case"じぇ":return new d(e,["zye","je","jye"],t);case"じょ":return new d(e,["zyo","jo","jyo"],t);case"た":return new d(e,["ta"],t);case"ち":return new d(e,["ti","chi"],t);case"つ":return new d(e,["tu","tsu"],t);case"て":return new d(e,["te"],t);case"と":return new d(e,["to"],t);case"ちゃ":return new d(e,["tya","cha","cya"],t);case"ちぃ":return new d(e,["tyi","cyi"],t);case"ちゅ":return new d(e,["tyu","chu","cyu"],t);case"ちぇ":return new d(e,["tye","che","cye"],t);case"ちょ":return new d(e,["tyo","cho","cyo"],t);case"つぁ":return new d(e,["tsa"],t);case"つぃ":return new d(e,["tsi"],t);case"つぇ":return new d(e,["tse"],t);case"つぉ":return new d(e,["tso"],t);case"てゃ":return new d(e,["tha"],t);case"てぃ":return new d(e,["thi"],t);case"てゅ":return new d(e,["thu"],t);case"てぇ":return new d(e,["the"],t);case"てょ":return new d(e,["tho"],t);case"とぁ":return new d(e,["twa"],t);case"とぃ":return new d(e,["twi"],t);case"とぅ":return new d(e,["twu"],t);case"とぇ":return new d(e,["twe"],t);case"とぉ":return new d(e,["two"],t);case"だ":return new d(e,["da"],t);case"ぢ":return new d(e,["di"],t);case"づ":return new d(e,["du"],t);case"で":return new d(e,["de"],t);case"ど":return new d(e,["do"],t);case"ぢゃ":return new d(e,["dya"],t);case"ぢぃ":return new d(e,["dyi"],t);case"ぢゅ":return new d(e,["dyu"],t);case"ぢぇ":return new d(e,["dye"],t);case"ぢょ":return new d(e,["dyo"],t);case"でゃ":return new d(e,["dha"],t);case"でぃ":return new d(e,["dhi"],t);case"でゅ":return new d(e,["dhu"],t);case"でぇ":return new d(e,["dhe"],t);case"でょ":return new d(e,["dho"],t);case"どぁ":return new d(e,["dwa"],t);case"どぃ":return new d(e,["dwi"],t);case"どぅ":return new d(e,["dwu"],t);case"どぇ":return new d(e,["dwe"],t);case"どぉ":return new d(e,["dwo"],t);case"っ":return new I(e,["xtu","xtsu","ltu","ltsu"],t);case"な":return new d(e,["na"],t);case"に":return new d(e,["ni"],t);case"ぬ":return new d(e,["nu"],t);case"ね":return new d(e,["ne"],t);case"の":return new d(e,["no"],t);case"にゃ":return new d(e,["nya"],t);case"にぃ":return new d(e,["nyi"],t);case"にゅ":return new d(e,["nyu"],t);case"にぇ":return new d(e,["nye"],t);case"にょ":return new d(e,["nyo"],t);case"は":return new d(e,["ha"],t);case"ひ":return new d(e,["hi"],t);case"ふ":return new d(e,["hu","fu"],t);case"へ":return new d(e,["he"],t);case"ほ":return new d(e,["ho"],t);case"ひゃ":return new d(e,["hya"],t);case"ひぃ":return new d(e,["hyi"],t);case"ひゅ":return new d(e,["hyu"],t);case"ひぇ":return new d(e,["hye"],t);case"ひょ":return new d(e,["hyo"],t);case"ふぁ":return new d(e,["fa","fwa"],t);case"ふぃ":return new d(e,["fi","fwi","fyi"],t);case"ふぅ":return new d(e,["fwu"],t);case"ふぇ":return new d(e,["fe","fwe","fye"],t);case"ふぉ":return new d(e,["fo","fwo"],t);case"ふゃ":return new d(e,["fya"],t);case"ふゅ":return new d(e,["fyu"],t);case"ふょ":return new d(e,["fyo"],t);case"ば":return new d(e,["ba"],t);case"び":return new d(e,["bi"],t);case"ぶ":return new d(e,["bu"],t);case"べ":return new d(e,["be"],t);case"ぼ":return new d(e,["bo"],t);case"びゃ":return new d(e,["bya"],t);case"びぃ":return new d(e,["byi"],t);case"びゅ":return new d(e,["byu"],t);case"びぇ":return new d(e,["bye"],t);case"びょ":return new d(e,["byo"],t);case"ゔぁ":return new d(e,["va"],t);case"ゔぃ":return new d(e,["vi","vyi"],t);case"ゔ":return new d(e,["vu"],t);case"ゔぇ":return new d(e,["ve","vye"],t);case"ゔぉ":return new d(e,["vo"],t);case"ゔゃ":return new d(e,["vya"],t);case"ゔゅ":return new d(e,["vyu"],t);case"ゔょ":return new d(e,["vyo"],t);case"ぱ":return new d(e,["pa"],t);case"ぴ":return new d(e,["pi"],t);case"ぷ":return new d(e,["pu"],t);case"ぺ":return new d(e,["pe"],t);case"ぽ":return new d(e,["po"],t);case"ぴゃ":return new d(e,["pya"],t);case"ぴぃ":return new d(e,["pyi"],t);case"ぴゅ":return new d(e,["pyu"],t);case"ぴぇ":return new d(e,["pye"],t);case"ぴょ":return new d(e,["pyo"],t);case"ま":return new d(e,["ma"],t);case"み":return new d(e,["mi"],t);case"む":return new d(e,["mu"],t);case"め":return new d(e,["me"],t);case"も":return new d(e,["mo"],t);case"みゃ":return new d(e,["mya"],t);case"みぃ":return new d(e,["myi"],t);case"みゅ":return new d(e,["myu"],t);case"みぇ":return new d(e,["mye"],t);case"みょ":return new d(e,["myo"],t);case"や":return new d(e,["ya"],t);case"ゆ":return new d(e,["yu"],t);case"よ":return new d(e,["yo"],t);case"ゃ":return new d(e,["xya","lya"],t);case"ゅ":return new d(e,["xyu","lyu"],t);case"ょ":return new d(e,["xyo","lyo"],t);case"ら":return new d(e,["ra"],t);case"り":return new d(e,["ri"],t);case"る":return new d(e,["ru"],t);case"れ":return new d(e,["re"],t);case"ろ":return new d(e,["ro"],t);case"りゃ":return new d(e,["rya"],t);case"りぃ":return new d(e,["ryi"],t);case"りゅ":return new d(e,["ryu"],t);case"りぇ":return new d(e,["rye"],t);case"りょ":return new d(e,["ryo"],t);case"わ":return new d(e,["wa"],t);case"を":return new d(e,["wo"],t);case"ん":return new F(e,["nn","n'","xn"],t);case"ゎ":return new d(e,["xwa","lwa"],t);case"a":return new l(e,["a"],t);case"b":return new l(e,["b"],t);case"c":return new l(e,["c"],t);case"d":return new l(e,["d"],t);case"e":return new l(e,["e"],t);case"f":return new l(e,["f"],t);case"g":return new l(e,["g"],t);case"h":return new l(e,["h"],t);case"i":return new l(e,["i"],t);case"j":return new l(e,["j"],t);case"k":return new l(e,["k"],t);case"l":return new l(e,["l"],t);case"m":return new l(e,["m"],t);case"n":return new l(e,["n"],t);case"o":return new l(e,["o"],t);case"p":return new l(e,["p"],t);case"q":return new l(e,["q"],t);case"r":return new l(e,["r"],t);case"s":return new l(e,["s"],t);case"t":return new l(e,["t"],t);case"u":return new l(e,["u"],t);case"v":return new l(e,["v"],t);case"w":return new l(e,["w"],t);case"x":return new l(e,["x"],t);case"y":return new l(e,["y"],t);case"z":return new l(e,["z"],t);case"A":return new l(e,["A"],t);case"B":return new l(e,["B"],t);case"C":return new l(e,["C"],t);case"D":return new l(e,["D"],t);case"E":return new l(e,["E"],t);case"F":return new l(e,["F"],t);case"G":return new l(e,["G"],t);case"H":return new l(e,["H"],t);case"I":return new l(e,["I"],t);case"J":return new l(e,["J"],t);case"K":return new l(e,["K"],t);case"L":return new l(e,["L"],t);case"M":return new l(e,["M"],t);case"N":return new l(e,["N"],t);case"O":return new l(e,["O"],t);case"P":return new l(e,["P"],t);case"Q":return new l(e,["Q"],t);case"R":return new l(e,["R"],t);case"S":return new l(e,["S"],t);case"T":return new l(e,["T"],t);case"U":return new l(e,["U"],t);case"V":return new l(e,["V"],t);case"W":return new l(e,["W"],t);case"X":return new l(e,["X"],t);case"Y":return new l(e,["Y"],t);case"Z":return new l(e,["Z"],t);case"0":return new l(e,["0"],t);case"1":return new l(e,["1"],t);case"2":return new l(e,["2"],t);case"3":return new l(e,["3"],t);case"4":return new l(e,["4"],t);case"5":return new l(e,["5"],t);case"6":return new l(e,["6"],t);case"7":return new l(e,["7"],t);case"8":return new l(e,["8"],t);case"9":return new l(e,["9"],t);case" ":return new l(e,[" "],t);case"!":return new l(e,["!"],t);case'"':return new l(e,['"'],t);case"#":return new l(e,["#"],t);case"$":return new l(e,["$"],t);case"%":return new l(e,["%"],t);case"&":return new l(e,["&"],t);case"'":return new l(e,["'"],t);case"(":return new l(e,["("],t);case")":return new l(e,[")"],t);case"*":return new l(e,["*"],t);case"+":return new l(e,["+"],t);case",":return new l(e,[","],t);case"-":return new l(e,["-"],t);case".":return new l(e,["."],t);case"/":return new l(e,["/"],t);case":":return new l(e,[":"],t);case";":return new l(e,[";"],t);case"<":return new l(e,["<"],t);case"=":return new l(e,["="],t);case">":return new l(e,[">"],t);case"?":return new l(e,["?"],t);case"@":return new l(e,["@"],t);case"[":return new l(e,["["],t);case"\\":return new l(e,["\\"],t);case"]":return new l(e,["]"],t);case"^":return new l(e,["^"],t);case"_":return new l(e,["_"],t);case"`":return new l(e,["`"],t);case"{":return new l(e,["{"],t);case"|":return new l(e,["|"],t);case"}":return new l(e,["}"],t);case"~":return new l(e,["~"],t);case"　":return new d(e,[" "],t);case"！":return new d(e,["!"],t);case"”":return new d(e,['"'],t);case"＃":return new d(e,["#"],t);case"＄":return new d(e,["$"],t);case"％":return new d(e,["%"],t);case"＆":return new d(e,["&"],t);case"’":return new d(e,["'"],t);case"（":return new d(e,["("],t);case"）":return new d(e,[")"],t);case"＊":return new d(e,["*"],t);case"＋":return new d(e,["+"],t);case"、":return new d(e,[","],t);case"ー":return new d(e,["-"],t);case"。":return new d(e,["."],t);case"・":return new d(e,["/"],t);case"：":return new d(e,[":"],t);case"；":return new d(e,[";"],t);case"＜":return new d(e,["<"],t);case"＝":return new d(e,["="],t);case"＞":return new d(e,[">"],t);case"？":return new d(e,["?"],t);case"＠":return new d(e,["@"],t);case"「":return new d(e,["["],t);case"￥":return new d(e,["\\"],t);case"」":return new d(e,["]"],t);case"＾":return new d(e,["^"],t);case"＿":return new d(e,["_"],t);case"‘":return new d(e,["`"],t);case"｛":return new d(e,["{"],t);case"｜":return new d(e,["|"],t);case"｝":return new d(e,["}"],t);case"～":return new d(e,["~"],t);default:throw new V("Charの生成に失敗しました：name = ".concat(e))}}function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function X(e){var t="function"==typeof Map?new Map:void 0;return X=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Y())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&ee(o,n.prototype),o}(e,arguments,te(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ee(n,e)},X(e)}function Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Y=function(){return!!e})()}function ee(e,t){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ee(e,t)}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}var ne=function(e){function t(){var e,n,r,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"テキストが空です";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=this,r=t,o=[i],r=te(r),e=function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(n,Y()?Reflect.construct(r,o||[],te(n).constructor):r.apply(n,o))).name="EmptyTextError",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(X(Error));function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(e){var t="function"==typeof Map?new Map:void 0;return oe=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(ie())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&ae(o,n.prototype),o}(e,arguments,ue(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ae(n,e)},oe(e)}function ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ie=function(){return!!e})()}function ae(e,t){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ae(e,t)}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}var ce=function(e){function t(){var e,n,r,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"入力すべき文字がありません";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=this,r=t,o=[i],r=ue(r),e=function(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(n,ie()?Reflect.construct(r,o||[],ue(n).constructor):r.apply(n,o))).name="NoRemainingInputError",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}(t,e),n=t,Object.defineProperty(n,"prototype",{writable:!1}),n;var n}(oe(Error)),se="incomplete";function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function le(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ye(r.key),r)}}function ye(e){var t=function(e,t){if("object"!=fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fe(t)?t:t+""}function we(e,t,n){be(e,t),t.set(e,n)}function be(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ve(e,t,n){return e.set(de(e,t),n),n}function me(e,t){return e.get(de(e,t))}function de(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var ge=new WeakMap,xe=new WeakMap,je=new WeakMap,Oe=new WeakMap,_e=new WeakMap,Ce=new WeakMap,Re=new WeakMap,Se=new WeakMap,Pe=new WeakSet,Ee=function(){return e=function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),be(this,t=Pe),t.add(this),we(this,ge,null),we(this,xe,""),we(this,je,""),we(this,Oe,""),we(this,_e,[]),we(this,Ce,""),we(this,Re,""),we(this,Se,!1);var n=arguments.length;1===n?(de(Pe,this,ke).call(this,arguments.length<=0?void 0:arguments[0]),de(Pe,this,Te).call(this)):2===n?!0===(arguments.length<=1?void 0:arguments[1])||!1===(arguments.length<=1?void 0:arguments[1])?(de(Pe,this,ke).call(this,arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]),de(Pe,this,Te).call(this)):(de(Pe,this,ke).call(this,arguments.length<=0?void 0:arguments[0],!0),de(Pe,this,Te).call(this,arguments.length<=1?void 0:arguments[1])):3===n?(de(Pe,this,ke).call(this,arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]),de(Pe,this,Te).call(this,arguments.length<=2?void 0:arguments[2])):(de(Pe,this,ke).call(this),de(Pe,this,Te).call(this))},t=[{key:"text",get:function(){return me(xe,this)}},{key:"completedText",get:function(){return me(je,this)}},{key:"remainingText",get:function(){return this.text.substring(me(je,this).length)}},{key:"roman",get:function(){return me(Oe,this)}},{key:"completedRoman",get:function(){return me(Ce,this)}},{key:"remainingRoman",get:function(){return me(Re,this)}},{key:"inputKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null===this.char)throw new ce;var n=r;switch(!this.char.ignoreCapsLock&&t&&/^[a-z]+$/.test(e)||(n=this.char.inputRoman(e,t)),n){case r:return"unmatch";case o:return ve(Ce,this,me(Ce,this)+e),me(_e,this).push(t),de(Pe,this,Ae).call(this,e),se;case a:return ve(Se,this,!0),ve(Ce,this,me(Ce,this)+e),me(_e,this).push(t),this.char.nextChar.expectRomanArray[0][0]===e?this.char=this.char.nextChar:this.char=this.char.nextChar.divisionCharChain,de(Pe,this,Ae).call(this,e),se;case i:if(me(Se,this))ve(Se,this,!1),ve(je,this,me(je,this)+"っ"),ve(je,this,me(je,this)+this.char.name);else if("ん"===this.char.name){ve(je,this,me(je,this)+"ん");var u,c=le(this.char.expectRomanArray);try{for(c.s();!(u=c.n()).done;)if(e!==u.value.at(-1)){ve(je,this,me(je,this)+this.char.nextChar.name);break}}catch(e){c.e(e)}finally{c.f()}}else ve(je,this,me(je,this)+this.char.name);return ve(Ce,this,me(Ce,this)+e),me(_e,this).push(t),this.char=this.char.nextChar,de(Pe,this,Ae).call(this,e,!0),""===me(Re,this)?"complete":se;default:if("ん"===this.char.name){var s,f=le(this.char.expectRomanArray);try{for(f.s();!(s=f.n()).done;)if(e!==s.value.at(-1)){ve(je,this,me(je,this)+"ん"),this.char.nextChar!==n&&ve(je,this,me(je,this)+this.char.nextChar.name);break}}catch(e){f.e(e)}finally{f.f()}}else me(Se,this)&&(ve(Se,this,!1),ve(je,this,me(je,this)+"っ"));return this.char.divisionCharChain&&n!==this.char.divisionCharChain&&ve(je,this,me(je,this)+this.char.name.slice(0,-n.name.length)),ve(Ce,this,me(Ce,this)+e),me(_e,this).push(t),this.char=n,de(Pe,this,Ae).call(this,e),se}}},{key:"undo",value:function(){var e=me(_e,this).slice(0,-1),t=me(Ce,this).slice(0,-1);ve(_e,this,[]),ve(je,this,""),ve(Ce,this,""),de(Pe,this,Te).call(this,me(ge,this));for(var n=0;n<t.length;n++)this.inputKey(t[n],e[n])}}],n=[{key:"isValidInputKey",value:function(e){return/^[ -~]$/.test(e)}}],t&&pe(e.prototype,t),n&&pe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function ke(e){var n=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?e.replace(/\t\f\r\n/g,""):e.replace(/\s|　/g,"");if(""===n)throw new ne;var r,o=le(n);try{for(o.s();!(r=o.n()).done;){var i=r.value,a="ａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ０１２３４５６７８９".indexOf(i);ve(xe,this,-1!==a?me(xe,this)+"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[a]:me(xe,this)+i)}}catch(e){o.e(e)}finally{o.f()}ve(xe,this,t()(me(xe,this)).convert("HK","ZK").convert("KK","HG").toString())}function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ve(ge,this,e),this.char=function(e,t){if(1===e.length)return J(e[0],t);for(var n=null,r=null,o=!0,i=0;i<e.length;i++){var a=e[i],u=null,c=null;if(i!==e.length-1){var s=e[i+1];/^(ぁ|ぃ|ぅ|ぇ|ぉ|ゃ|ゅ|ょ)$/.test(s)&&(u=a+s)}if(null===u)c=J(a,t);else try{c=J(u,t),i++}catch(e){c=J(a,t)}o&&(o=!1,n=c),null!==r&&(r.nextChar=c),r=c}return n}(me(xe,this),e),ve(Re,this,"");for(var t=this.char,n="";null!==t;){var r=t.expectRoman(n);n="っ"===t.name&&t.isSpecial?r:"",ve(Re,this,me(Re,this)+r),t=t.nextChar}ve(Oe,this,me(Re,this))}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!==this.char){var n="";"っ"===this.char.name?t?(ve(Re,this,this.char.expectRoman().slice(this.char.nextExpectRomanIndex)),this.char.isSpecial&&(n=me(Re,this))):(ve(Re,this,this.char.expectRoman(e).slice(this.char.nextExpectRomanIndex)),this.char.isSpecial&&(n=e)):ve(Re,this,this.char.expectRoman().slice(this.char.nextExpectRomanIndex));for(var r=this.char.nextChar;null!==r;){var o=r.expectRoman(n);n="っ"===r.name&&r.isSpecial?o:"",ve(Re,this,me(Re,this)+o),r=r.nextChar}}else ve(Re,this,"")}window.TypingText=Ee})()})();